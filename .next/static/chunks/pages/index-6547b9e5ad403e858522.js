(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1482:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(5861),s=t(8152),i=t(7757),c=t.n(i),a=t(864),o=t(6714),l=t(5005),u=(t(2167),t(7625)),d=t(6024),h=t(9398),x=t(7294),j=(t(1163),t(3942)),f=t(1117),p=t(5893);function v(e){var n=e.post,t=e.isOwner,i=(0,x.useState)(!1),v=i[0],Z=i[1],g=(0,x.useState)(n.postLikes),_=g[0],m=g[1],w=(0,j.v9)((function(e){return e.auth.access})),k=(0,f.jn)(),D=(0,s.Z)(k,2),E=D[0],N=D[1],C=(N.data,N.error,N.isError),F=(N.isLoading,N.isSuccess),b=n.id,I=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E({postIDtoDelete:b,access_Token:w});case 3:!0===F&&!1===C&&console.log("Post deleted successfully"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(a.Z.Header,{as:"h5",children:(0,p.jsxs)(o.Z,{horizontal:!0,children:[(0,p.jsx)(o.Z.Item,{children:n.postAuthor}),(0,p.jsxs)(o.Z.Item,{children:[new Date(n.created_at).toUTCString().substring(8,11),(0,p.jsx)("span",{children:",\u2002"}),new Date(n.created_at).getDay().toLocaleString(),(0,p.jsx)("span",{children:"\u2002"}),new Date(Date.now()).getFullYear()-new Date(n.created_at).getFullYear()!==0?new Date(n.created_at).getFullYear():""]}),(0,p.jsx)(o.Z.Item,{children:"..."}),!0===t&&(0,p.jsx)(o.Z.Item,{children:(0,p.jsx)(l.Z,{variant:"danger",onClick:I,children:(0,p.jsx)(u.G,{icon:h.NBC})})})]})}),(0,p.jsxs)(a.Z.Body,{children:[(0,p.jsx)(a.Z.Text,{children:n.postText}),(0,p.jsx)(o.Z,{horizontal:!0,children:(0,p.jsx)(o.Z.Item,{children:(0,p.jsxs)(l.Z,{variant:"outline",onClick:function(){Z(!v),m(v?_-1:_+1)},children:[v?(0,p.jsx)(u.G,{icon:h.m6i}):(0,p.jsx)(u.G,{icon:d.m6}),_]})})})]})]})})}},6124:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t(9008),s=t(1958),i=t(3942),c=t(6968),a=(t(2167),t(7294)),o=(t(1163),t(4123),t(1482)),l=t(1117),u=t(5893);function d(){(0,i.v9)(s.HF),(0,i.v9)(s.vN);var e=(0,l.mD)(""),n=e.data,t=e.error,d=e.isLoading,h=e.isError,x=e.isFetching;return(0,a.useEffect)((function(){h&&console.log(t)}),[h]),(0,u.jsxs)("div",{children:[(0,u.jsxs)(r.default,{children:[(0,u.jsx)("title",{children:"Create Next App"}),(0,u.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,u.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,u.jsx)("h2",{children:"home page"}),d||x||void 0===n?(0,u.jsx)(c.Z,{animation:"border",variant:"success"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:"All Posts"}),n.posts.map((function(e){return(0,u.jsx)(o.Z,{post:e},e.id)}))]})]})}},8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6124)}])}},function(e){e.O(0,[314,774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);