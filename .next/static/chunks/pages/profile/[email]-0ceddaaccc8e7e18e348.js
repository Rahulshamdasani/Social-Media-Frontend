(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1482:function(e,n,r){"use strict";r.d(n,{Z:function(){return m}});var s=r(5861),t=r(8152),i=r(7757),c=r.n(i),a=r(864),o=r(6714),l=r(5005),d=(r(2167),r(7625)),u=r(6024),h=r(9398),x=r(7294),j=(r(1163),r(3942)),f=r(1117),Z=r(5893);function m(e){var n=e.post,r=e.isOwner,i=(0,x.useState)(!1),m=i[0],p=i[1],g=(0,x.useState)(n.postLikes),v=g[0],_=g[1],w=(0,j.v9)((function(e){return e.auth.access})),k=(0,f.jn)(),b=(0,t.Z)(k,2),E=b[0],D=b[1],F=(D.data,D.error,D.isError),L=(D.isLoading,D.isSuccess),y=n.id,C=function(){var e=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E({postIDtoDelete:y,access_Token:w});case 3:!0===L&&!1===F&&console.log("Post deleted successfully"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(a.Z,{children:[(0,Z.jsx)(a.Z.Header,{as:"h5",children:(0,Z.jsxs)(o.Z,{horizontal:!0,children:[(0,Z.jsx)(o.Z.Item,{children:n.postAuthor}),(0,Z.jsxs)(o.Z.Item,{children:[new Date(n.created_at).toUTCString().substring(8,11),(0,Z.jsx)("span",{children:",\u2002"}),new Date(n.created_at).getDay().toLocaleString(),(0,Z.jsx)("span",{children:"\u2002"}),new Date(Date.now()).getFullYear()-new Date(n.created_at).getFullYear()!==0?new Date(n.created_at).getFullYear():""]}),(0,Z.jsx)(o.Z.Item,{children:"..."}),!0===r&&(0,Z.jsx)(o.Z.Item,{children:(0,Z.jsx)(l.Z,{variant:"danger",onClick:C,children:(0,Z.jsx)(d.G,{icon:h.NBC})})})]})}),(0,Z.jsxs)(a.Z.Body,{children:[(0,Z.jsx)(a.Z.Text,{children:n.postText}),(0,Z.jsx)(o.Z,{horizontal:!0,children:(0,Z.jsx)(o.Z.Item,{children:(0,Z.jsxs)(l.Z,{variant:"outline",onClick:function(){p(!m),_(m?v-1:v+1)},children:[m?(0,Z.jsx)(d.G,{icon:h.m6i}):(0,Z.jsx)(d.G,{icon:u.m6}),v]})})})]})]})})}},9011:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Z}});var s=r(3942),t=r(1163),i=r(7294),c=r(8031),a=r(5005),o=r(6968),l=r(864),d=r(6714),u=r(6518),h=r(8052),x=(r(5250),r(1117)),j=r(1482),f=r(5893);function Z(){var e=(0,s.I0)(),n=(0,t.useRouter)(),r=n.query.email,Z=(0,s.v9)((function(e){return e.auth.user})),m=((0,s.v9)((function(e){return e.auth.isAuthenticated})),(0,i.useState)(!1)),p=m[0],g=m[1];(0,i.useEffect)((function(){r&&null!==Z&&r===Z.userdata.email&&(g(!0),k||E||e((0,h.D)({data:_})))}));var v=(0,c.oe)("".concat(r)),_=v.data,w=v.error,k=v.isLoading,b=v.isError,E=v.isFetching,D=(0,x.Se)("".concat(r)),F=D.data,L=D.error,y=D.isLoading,C=D.isError,T=D.isFetching;(0,i.useEffect)((function(){!0===b&&console.log(w)}),[b]),(0,i.useEffect)((function(){!0===C&&console.log(L)}),[C]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{children:(0,f.jsx)("h3",{children:"Profile Page"})}),(0,f.jsx)("br",{}),p&&(0,f.jsx)(a.Z,{onClick:function(){n.replace("edit/".concat(r),void 0,{shallow:!0})},children:"Edit Profile"}),(0,f.jsx)(f.Fragment,{children:k||E||void 0===_?(0,f.jsx)(o.Z,{animation:"border",variant:"success"}):(0,f.jsxs)(l.Z,{children:[(0,f.jsxs)(l.Z.Body,{children:[(0,f.jsx)(l.Z.Title,{children:_.profile.display_name}),(0,f.jsxs)(l.Z.Text,{children:[(0,f.jsx)("small",{children:"bio:"}),(0,f.jsx)("br",{}),_.profile.bio]})]}),(0,f.jsxs)(d.Z,{className:"list-group-flush",children:[(0,f.jsxs)(u.Z,{children:[(0,f.jsx)("small",{children:"first name:"}),(0,f.jsx)("br",{}),_.profile.first_name]}),(0,f.jsxs)(u.Z,{children:[(0,f.jsx)("small",{children:"first name:"}),(0,f.jsx)("br",{}),_.profile.last_name]})]}),(0,f.jsxs)(l.Z.Body,{children:[(0,f.jsx)(l.Z.Link,{href:"#",children:"Card Link"}),(0,f.jsx)(l.Z.Link,{href:"#",children:"Another Link"})]})]})}),(0,f.jsx)("br",{}),(0,f.jsx)(f.Fragment,{children:y||T||void 0===F?(0,f.jsx)(o.Z,{animation:"border",variant:"success"}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("h3",{children:["Posts from ",r]}),F.posts.map((function(e){return(0,f.jsx)(j.Z,{post:e,isOwner:p},e.id)}))]})})]})}},4153:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[email]",function(){return r(9011)}])}},function(e){e.O(0,[314,774,888,179],(function(){return n=4153,e(e.s=n);var n}));var n=e.O();_N_E=n}]);