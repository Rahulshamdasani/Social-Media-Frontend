(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[75],{8798:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return x}});var t=r(5861),a=r(4942),s=r(8152),o=r(7757),i=r.n(o),c=r(5005),l=r(6968),u=r(3942),f=r(1163),m=r(7294),d=(r(4123),r(1958),r(2151)),p=(r(2167),r(8031)),h=r(5893);function b(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function j(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?b(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function x(){(0,u.I0)();var e=(0,f.useRouter)(),n=e.query.email,r=(0,u.v9)((function(e){return e.auth.user})),o=(0,u.v9)((function(e){return e.auth.isAuthenticated})),b=(0,m.useState)(!1),x=b[0],v=b[1],_=(0,p.TG)(),g=(0,s.Z)(_,2),y=g[0],O=g[1],Z=O.isSuccess,w=O.isLoading,E=O.isError,P=O.error;(0,m.useEffect)((function(){n&&n===r.userdata.email&&v(!0)})),(0,m.useEffect)((function(){null!==r&&!1!==o||e.push("/",void 0,{shallow:!0}),n===r.userdata.email&&v(!0)}),[r,o]),(0,m.useEffect)((function(){!0===Z&&e.replace("/profile/".concat(n),void 0,{shallow:!0})}),[Z]);var C=(0,m.useState)({first_name:"",last_name:"",bio:"",locations:"",display_name:""}),N=C[0],k=C[1],L=N.first_name,G=N.last_name,I=N.bio,S=(N.locations,N.display_name),D=function(e){k(j(j({},N),{},(0,a.Z)({},e.target.name,e.target.value)))},F=function(){var e=(0,t.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({email:n,display_name:S,first_name:L,last_name:G,bio:I});case 3:E&&console.log(P),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{children:(0,h.jsx)("h3",{children:"Edit Profile Page"})}),x&&!w?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.Z,{children:[(0,h.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,h.jsx)(d.Z.Label,{children:"display name"}),(0,h.jsx)(d.Z.Control,{type:"text",placeholder:"",name:"display_name",onChange:D,value:S})]}),(0,h.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formFirstName",children:[(0,h.jsx)(d.Z.Label,{children:"first name"}),(0,h.jsx)(d.Z.Control,{type:"text",placeholder:"",name:"first_name",onChange:D,value:L})]}),(0,h.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formLastName",children:[(0,h.jsx)(d.Z.Label,{children:"last name"}),(0,h.jsx)(d.Z.Control,{type:"text",placeholder:"",name:"last_name",onChange:D,value:G})]}),(0,h.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formBio",children:[(0,h.jsx)(d.Z.Label,{children:"bio"}),(0,h.jsx)(d.Z.Control,{as:"textarea",rows:3,placeholder:"",name:"bio",onChange:D,value:I})]})]}),(0,h.jsx)("br",{}),(0,h.jsx)(c.Z,{onClick:F,children:"submit changes"})]}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("h5",{children:"not authorized"})}),w&&(0,h.jsx)(l.Z,{animation:"border",variant:"success"})]})}},6856:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/edit/[email]",function(){return r(8798)}])}},function(e){e.O(0,[436,774,888,179],(function(){return n=6856,e(e.s=n);var n}));var n=e.O();_N_E=n}]);